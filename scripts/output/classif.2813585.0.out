CMSSW: /afs/cern.ch/user/i/ivovtin/HHggbb/CMSSW_10_2_13
XGBClassifier(base_score=0.5, booster='gbtree', colsample_bylevel=1,
       colsample_bytree=1, gamma=0, learning_rate=0.1, max_delta_step=0,
       max_depth=10, min_child_weight=1e-05, missing=nan,
       n_estimators=2000, n_jobs=1, nthread=20, objective='multi:softprob',
       random_state=0, reg_alpha=0, reg_lambda=0.1, scale_pos_weight=1,
       seed=0, silent=True, subsample=1)
env: data=/eos/user/i/ivovtin/HHggbb/HHbbggTraining/Training/input_files_with_cuts/2016/flattrees_st_cuts
using background file n.0: /eos/user/i/ivovtin/HHggbb/HHbbggTraining/Training/input_files_with_cuts/2016/flattrees_st_cuts/output_DiPhotonJetsBox_MGG-80toInf_13TeV-Sherpa_st_cuts.root
using background file n.1: /eos/user/i/ivovtin/HHggbb/HHbbggTraining/Training/input_files_with_cuts/2016/flattrees_st_cuts/output_GJet_Pt-20to40_DoubleEMEnriched_MGG-80toInf_TuneCUETP8M1_13TeV_Pythia8_st_cuts.root
using background file n.2: /eos/user/i/ivovtin/HHggbb/HHbbggTraining/Training/input_files_with_cuts/2016/flattrees_st_cuts/output_GJet_Pt-40toInf_DoubleEMEnriched_MGG-80toInf_TuneCUETP8M1_13TeV_Pythia8_st_cuts.root
using signal file n.0: /eos/user/i/ivovtin/HHggbb/HHbbggTraining/Training/input_files_with_cuts/2016/flattrees_st_cuts/output_GluGluToHHTo2B2G_node_SM_13TeV-madgraph_st_cuts.root
['absCosThetaStar_CS', 'absCosTheta_bb', 'absCosTheta_gg', 'PhoJetMinDr', 'customLeadingPhotonIDMVA', 'customSubLeadingPhotonIDMVA', 'leadingJet_DeepCSV', 'subleadingJet_DeepCSV', 'leadingPhotonSigOverE', 'subleadingPhotonSigOverE', 'sigmaMOverM', 'diphotonCandidatePtOverdiHiggsM', 'dijetCandidatePtOverdiHiggsM', 'leadingJet_bRegNNResolution', 'subleadingJet_bRegNNResolution', 'noexpand:sigmaMJets/Mjj', 'noexpand:leadingPhoton_pt/CMS_hgg_mass', 'noexpand:subleadingPhoton_pt/CMS_hgg_mass', 'noexpand:leadingJet_pt/Mjj', 'noexpand:subleadingJet_pt/Mjj', 'PhoJetotherDr']
['bbggSelectionTree']
['bbggSelectionTree']
['bbggSelectionTree']
using tree:bbggSelectionTree
(1685402, 21)
(1685402, 1)
(1685402, 21)
(1685402, 1)
[0;31m[0m
[0;31mTclError[0mTraceback (most recent call last)
[0;32m/afs/cern.ch/user/i/ivovtin/HHggbb/HHbbggTraining/scripts/ROCsdraw.py[0m in [0;36m<module>[0;34m()[0m
[1;32m     87[0m [0;34m[0m[0m
[1;32m     88[0m [0;31m#test[0m[0;34m[0m[0;34m[0m[0m
[0;32m---> 89[0;31m [0mfpr_gJ[0m[0;34m,[0m[0mtpr_gJ[0m [0;34m=[0m [0mplotting[0m[0;34m.[0m[0mplot_roc_curve_multiclass_singleBkg[0m[0;34m([0m[0mX_total_test[0m[0;34m,[0m[0my_total_test[0m[0;34m,[0m[0mloaded_model[0m[0;34m,[0m[0;34m-[0m[0;36m1[0m[0;34m,[0m[0moutString[0m[0;34m=[0m[0;34m"test_xgb_diphotons"[0m[0;34m,[0m[0mweights[0m[0;34m=[0m[0mw_total_test[0m[0;34m)[0m[0;34m[0m[0m
[0m[1;32m     90[0m [0mplt[0m[0;34m.[0m[0msavefig[0m[0;34m([0m[0mutils[0m[0;34m.[0m[0mIO[0m[0;34m.[0m[0mplotFolder[0m[0;34m+[0m[0;34m"test_xgb_diphotons.eps"[0m[0;34m)[0m[0;34m[0m[0m
[1;32m     91[0m [0;31m#plt.show()[0m[0;34m[0m[0;34m[0m[0m

[0;32m/afs/cern.ch/user/i/ivovtin/HHggbb/HHbbggTraining/python/plotting_utils.pyc[0m in [0;36mplot_roc_curve_multiclass_singleBkg[0;34m(x, y, clf, backgroundClassOutput, signalClassOutput, outString, weights)[0m
[1;32m    213[0m     [0mroc_auc[0m [0;34m=[0m [0mauc[0m[0;34m([0m[0mfpr[0m[0;34m,[0m [0mtpr[0m[0;34m,[0m[0mreorder[0m[0;34m=[0m[0mTrue[0m[0;34m)[0m[0;34m[0m[0m
[1;32m    214[0m [0;34m[0m[0m
[0;32m--> 215[0;31m     [0mplt[0m[0;34m.[0m[0mplot[0m[0;34m([0m[0mfpr[0m[0;34m,[0m [0mtpr[0m[0;34m,[0m [0mlw[0m[0;34m=[0m[0;36m1[0m[0;34m,[0m [0mlabel[0m[0;34m=[0m[0;34m'ROC (area = %0.4f)'[0m[0;34m%[0m[0;34m([0m[0mroc_auc[0m[0;34m)[0m[0;34m)[0m[0;34m[0m[0m
[0m[1;32m    216[0m [0;34m[0m[0m
[1;32m    217[0m     [0mplt[0m[0;34m.[0m[0mxlim[0m[0;34m([0m[0;34m[[0m[0;34m-[0m[0;36m0.05[0m[0;34m,[0m [0;36m1.05[0m[0;34m][0m[0;34m)[0m[0;34m[0m[0m

[0;32m/cvmfs/cms.cern.ch/slc7_amd64_gcc700/external/py2-matplotlib/1.5.2-gnimlf2/lib/python2.7/site-packages/matplotlib/pyplot.pyc[0m in [0;36mplot[0;34m(*args, **kwargs)[0m
[1;32m   3144[0m [0;34m@[0m[0m_autogen_docstring[0m[0;34m([0m[0mAxes[0m[0;34m.[0m[0mplot[0m[0;34m)[0m[0;34m[0m[0m
[1;32m   3145[0m [0;32mdef[0m [0mplot[0m[0;34m([0m[0;34m*[0m[0margs[0m[0;34m,[0m [0;34m**[0m[0mkwargs[0m[0;34m)[0m[0;34m:[0m[0;34m[0m[0m
[0;32m-> 3146[0;31m     [0max[0m [0;34m=[0m [0mgca[0m[0;34m([0m[0;34m)[0m[0;34m[0m[0m
[0m[1;32m   3147[0m     [0;31m# allow callers to override the hold state by passing hold=True|False[0m[0;34m[0m[0;34m[0m[0m
[1;32m   3148[0m     [0mwashold[0m [0;34m=[0m [0max[0m[0;34m.[0m[0mishold[0m[0;34m([0m[0;34m)[0m[0;34m[0m[0m

[0;32m/cvmfs/cms.cern.ch/slc7_amd64_gcc700/external/py2-matplotlib/1.5.2-gnimlf2/lib/python2.7/site-packages/matplotlib/pyplot.pyc[0m in [0;36mgca[0;34m(**kwargs)[0m
[1;32m    926[0m     [0mmatplotlib[0m[0;34m.[0m[0mfigure[0m[0;34m.[0m[0mFigure[0m[0;34m.[0m[0mgca[0m [0;34m:[0m [0mThe[0m [0mfigure[0m[0;31m'[0m[0ms[0m [0mgca[0m [0mmethod[0m[0;34m.[0m[0;34m[0m[0m
[1;32m    927[0m     """
[0;32m--> 928[0;31m     [0;32mreturn[0m [0mgcf[0m[0;34m([0m[0;34m)[0m[0;34m.[0m[0mgca[0m[0;34m([0m[0;34m**[0m[0mkwargs[0m[0;34m)[0m[0;34m[0m[0m
[0m[1;32m    929[0m [0;34m[0m[0m
[1;32m    930[0m [0;31m# More ways of creating axes:[0m[0;34m[0m[0;34m[0m[0m

[0;32m/cvmfs/cms.cern.ch/slc7_amd64_gcc700/external/py2-matplotlib/1.5.2-gnimlf2/lib/python2.7/site-packages/matplotlib/pyplot.pyc[0m in [0;36mgcf[0;34m()[0m
[1;32m    576[0m         [0;32mreturn[0m [0mfigManager[0m[0;34m.[0m[0mcanvas[0m[0;34m.[0m[0mfigure[0m[0;34m[0m[0m
[1;32m    577[0m     [0;32melse[0m[0;34m:[0m[0;34m[0m[0m
[0;32m--> 578[0;31m         [0;32mreturn[0m [0mfigure[0m[0;34m([0m[0;34m)[0m[0;34m[0m[0m
[0m[1;32m    579[0m [0;34m[0m[0m
[1;32m    580[0m [0;34m[0m[0m

[0;32m/cvmfs/cms.cern.ch/slc7_amd64_gcc700/external/py2-matplotlib/1.5.2-gnimlf2/lib/python2.7/site-packages/matplotlib/pyplot.pyc[0m in [0;36mfigure[0;34m(num, figsize, dpi, facecolor, edgecolor, frameon, FigureClass, **kwargs)[0m
[1;32m    525[0m                                         [0mframeon[0m[0;34m=[0m[0mframeon[0m[0;34m,[0m[0;34m[0m[0m
[1;32m    526[0m                                         [0mFigureClass[0m[0;34m=[0m[0mFigureClass[0m[0;34m,[0m[0;34m[0m[0m
[0;32m--> 527[0;31m                                         **kwargs)
[0m[1;32m    528[0m [0;34m[0m[0m
[1;32m    529[0m         [0;32mif[0m [0mfigLabel[0m[0;34m:[0m[0;34m[0m[0m

[0;32m/cvmfs/cms.cern.ch/slc7_amd64_gcc700/external/py2-matplotlib/1.5.2-gnimlf2/lib/python2.7/site-packages/matplotlib/backends/backend_tkagg.pyc[0m in [0;36mnew_figure_manager[0;34m(num, *args, **kwargs)[0m
[1;32m     82[0m     [0mFigureClass[0m [0;34m=[0m [0mkwargs[0m[0;34m.[0m[0mpop[0m[0;34m([0m[0;34m'FigureClass'[0m[0;34m,[0m [0mFigure[0m[0;34m)[0m[0;34m[0m[0m
[1;32m     83[0m     [0mfigure[0m [0;34m=[0m [0mFigureClass[0m[0;34m([0m[0;34m*[0m[0margs[0m[0;34m,[0m [0;34m**[0m[0mkwargs[0m[0;34m)[0m[0;34m[0m[0m
[0;32m---> 84[0;31m     [0;32mreturn[0m [0mnew_figure_manager_given_figure[0m[0;34m([0m[0mnum[0m[0;34m,[0m [0mfigure[0m[0;34m)[0m[0;34m[0m[0m
[0m[1;32m     85[0m [0;34m[0m[0m
[1;32m     86[0m [0;34m[0m[0m

[0;32m/cvmfs/cms.cern.ch/slc7_amd64_gcc700/external/py2-matplotlib/1.5.2-gnimlf2/lib/python2.7/site-packages/matplotlib/backends/backend_tkagg.pyc[0m in [0;36mnew_figure_manager_given_figure[0;34m(num, figure)[0m
[1;32m     90[0m     """
[1;32m     91[0m     [0m_focus[0m [0;34m=[0m [0mwindowing[0m[0;34m.[0m[0mFocusManager[0m[0;34m([0m[0;34m)[0m[0;34m[0m[0m
[0;32m---> 92[0;31m     [0mwindow[0m [0;34m=[0m [0mTk[0m[0;34m.[0m[0mTk[0m[0;34m([0m[0;34m)[0m[0;34m[0m[0m
[0m[1;32m     93[0m     [0mwindow[0m[0;34m.[0m[0mwithdraw[0m[0;34m([0m[0;34m)[0m[0;34m[0m[0m
[1;32m     94[0m [0;34m[0m[0m

[0;32m/cvmfs/cms.cern.ch/slc7_amd64_gcc700/external/python/2.7.14-omkpbe4/lib/python2.7/lib-tk/Tkinter.pyc[0m in [0;36m__init__[0;34m(self, screenName, baseName, className, useTk, sync, use)[0m
[1;32m   1817[0m                 [0mbaseName[0m [0;34m=[0m [0mbaseName[0m [0;34m+[0m [0mext[0m[0;34m[0m[0m
[1;32m   1818[0m         [0minteractive[0m [0;34m=[0m [0;36m0[0m[0;34m[0m[0m
[0;32m-> 1819[0;31m         [0mself[0m[0;34m.[0m[0mtk[0m [0;34m=[0m [0m_tkinter[0m[0;34m.[0m[0mcreate[0m[0;34m([0m[0mscreenName[0m[0;34m,[0m [0mbaseName[0m[0;34m,[0m [0mclassName[0m[0;34m,[0m [0minteractive[0m[0;34m,[0m [0mwantobjects[0m[0;34m,[0m [0museTk[0m[0;34m,[0m [0msync[0m[0;34m,[0m [0muse[0m[0;34m)[0m[0;34m[0m[0m
[0m[1;32m   1820[0m         [0;32mif[0m [0museTk[0m[0;34m:[0m[0;34m[0m[0m
[1;32m   1821[0m             [0mself[0m[0;34m.[0m[0m_loadtk[0m[0;34m([0m[0;34m)[0m[0;34m[0m[0m

[0;31mTclError[0m: no display name and no $DISPLAY environment variable
